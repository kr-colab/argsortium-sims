"""
Main Snakefile for population genetic simulations.

This workflow simulates tree sequences across multiple chromosomes
using stdpopsim and msprime. Each chromosome is simulated independently
and can be run in parallel.
"""

# Load configuration
configfile: "config/config.yaml"


# Define final outputs - one tree sequence per chromosome
rule all:
    input:
        expand(
            "{outdir}/{species}_{model}/{contig}/sim.trees",
            outdir=config["output_dir"],
            species=config["species_name"],
            model=config["model_name"],
            contig=config["contigs"]
        )


# Include simulation rules
include: "rules/simulate.smk"
